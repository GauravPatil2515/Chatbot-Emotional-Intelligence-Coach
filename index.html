<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>EQ Coach â€“ Emotional Intelligence</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',system-ui,sans-serif;background:#08080f;color:#e0e0e8;min-height:100vh;overflow-x:hidden}
.bg{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none}
.orb{position:absolute;border-radius:50%;filter:blur(100px);opacity:.18;animation:float 8s ease-in-out infinite}
.orb1{width:400px;height:400px;background:#7c3aed;top:-100px;left:-80px;animation-delay:0s}
.orb2{width:350px;height:350px;background:#06b6d4;bottom:-80px;right:-60px;animation-delay:3s}
.orb3{width:250px;height:250px;background:#f43f5e;top:50%;left:60%;animation-delay:5s}
@keyframes float{0%,100%{transform:translate(0,0) scale(1)}33%{transform:translate(30px,-20px) scale(1.05)}66%{transform:translate(-20px,15px) scale(.95)}}
.wrap{position:relative;z-index:1;max-width:560px;margin:0 auto;padding:28px 20px;display:flex;flex-direction:column;align-items:center;min-height:100vh}
.logo{display:flex;align-items:center;gap:12px;margin-bottom:2px}
.logo svg{width:36px;height:36px}
h1{font-size:30px;font-weight:700;background:linear-gradient(135deg,#a78bfa,#06b6d4);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.tag{color:#64648a;font-size:13px;letter-spacing:1px;text-transform:uppercase;margin-bottom:20px}
.cam-wrap{position:relative;margin-bottom:6px}
video{width:240px;height:180px;border-radius:16px;border:2px solid rgba(124,58,237,.4);background:#111;object-fit:cover;box-shadow:0 0 30px rgba(124,58,237,.15)}
.cam-ring{position:absolute;inset:-6px;border-radius:20px;border:1.5px solid transparent;background:linear-gradient(135deg,rgba(124,58,237,.3),rgba(6,182,212,.3)) border-box;-webkit-mask:linear-gradient(#fff 0 0) padding-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;animation:spin 6s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.cam-label{display:flex;align-items:center;gap:6px;color:#555;font-size:11px;margin-bottom:18px}
.cam-label span{width:6px;height:6px;border-radius:50%;background:#22c55e;box-shadow:0 0 6px #22c55e;animation:blink 2s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.3}}
.card{width:100%;background:rgba(18,18,32,.7);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:20px;box-shadow:0 8px 40px rgba(0,0,0,.4)}
.mood-bar{display:flex;gap:8px;margin-bottom:14px;flex-wrap:wrap}
.mood{padding:6px 14px;border-radius:20px;font-size:12px;cursor:pointer;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03);transition:all .2s;user-select:none}
.mood:hover{background:rgba(124,58,237,.15);border-color:rgba(124,58,237,.4)}
.mood.active{background:rgba(124,58,237,.2);border-color:#7c3aed;color:#c4b5fd}
textarea{width:100%;height:80px;background:rgba(255,255,255,.04);color:#e0e0e8;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px 14px;font-size:14px;resize:none;font-family:inherit;line-height:1.5;transition:border .2s}
textarea::placeholder{color:#555}
textarea:focus{outline:none;border-color:rgba(124,58,237,.5);box-shadow:0 0 0 3px rgba(124,58,237,.1)}
.actions{display:flex;gap:8px;margin-top:10px}
button{flex:1;padding:12px;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;font-family:inherit;transition:all .25s;letter-spacing:.3px}
.primary{background:linear-gradient(135deg,#7c3aed,#6d28d9);color:#fff;box-shadow:0 4px 20px rgba(124,58,237,.3)}
.primary:hover{transform:translateY(-1px);box-shadow:0 6px 25px rgba(124,58,237,.4)}
.primary:disabled{opacity:.5;cursor:wait;transform:none}
.secondary{background:rgba(255,255,255,.05);color:#999;border:1px solid rgba(255,255,255,.08);flex:.4}
.secondary:hover{background:rgba(255,255,255,.08);color:#ccc}
.result{margin-top:14px;background:rgba(124,58,237,.04);border:1px solid rgba(124,58,237,.1);border-radius:12px;padding:16px;min-height:60px;line-height:1.7;font-size:14px;white-space:pre-wrap;transition:all .3s}
.result .label{display:inline-block;font-size:10px;text-transform:uppercase;letter-spacing:1.5px;color:#7c3aed;margin-bottom:8px;font-weight:600}
.typing span{display:inline-block;width:6px;height:6px;background:#7c3aed;border-radius:50%;margin:0 2px;animation:bounce .6s infinite}
.typing span:nth-child(2){animation-delay:.15s}
.typing span:nth-child(3){animation-delay:.3s}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
.footer{margin-top:auto;padding-top:24px;color:#333;font-size:11px;text-align:center}
.stats{display:flex;gap:16px;justify-content:center;margin-top:16px}
.stat{text-align:center}
.stat-val{font-size:20px;font-weight:700;color:#a78bfa}
.stat-lbl{font-size:10px;color:#555;text-transform:uppercase;letter-spacing:1px;margin-top:2px}
</style>
</head>
<body>
<div class="bg"><div class="orb orb1"></div><div class="orb orb2"></div><div class="orb orb3"></div></div>
<div class="wrap">
<div class="logo">
<svg viewBox="0 0 36 36" fill="none"><circle cx="18" cy="18" r="17" stroke="url(#g)" stroke-width="2"/><path d="M12 20c1.5 3 4 4 6 4s4.5-1 6-4" stroke="#a78bfa" stroke-width="1.5" stroke-linecap="round"/><circle cx="13" cy="15" r="1.5" fill="#06b6d4"/><circle cx="23" cy="15" r="1.5" fill="#06b6d4"/><defs><linearGradient id="g" x1="0" y1="0" x2="36" y2="36"><stop stop-color="#7c3aed"/><stop offset="1" stop-color="#06b6d4"/></linearGradient></defs></svg>
<h1>EQ Coach</h1>
</div>
<p class="tag">Your AI Emotional Intelligence Partner</p>

<div class="cam-wrap">
<div class="cam-ring"></div>
<video id="vid" autoplay muted playsinline></video>
</div>
<div class="cam-label"><span></span> Self-awareness mirror active</div>

<div class="card">
<div class="mood-bar">
<div class="mood" onclick="pick(this,'ðŸ˜Š Happy')">ðŸ˜Š Happy</div>
<div class="mood" onclick="pick(this,'ðŸ˜¢ Sad')">ðŸ˜¢ Sad</div>
<div class="mood" onclick="pick(this,'ðŸ˜¤ Angry')">ðŸ˜¤ Angry</div>
<div class="mood" onclick="pick(this,'ðŸ˜° Anxious')">ðŸ˜° Anxious</div>
<div class="mood" onclick="pick(this,'ðŸ˜• Confused')">ðŸ˜• Confused</div>
</div>
<textarea id="inp" placeholder="Tell me how you're feeling, or describe a social situation you'd like coaching on..."></textarea>
<div class="actions">
<button class="secondary" onclick="clr()">Clear</button>
<button class="primary" id="btn" onclick="go()">âœ¦ Analyze &amp; Coach</button>
</div>
<div class="result" id="out"><div class="label">Coach Response</div>Welcome! I'm your EQ Coach. Share what's on your mindâ€”tap a mood or type freelyâ€”and I'll give you personalized emotional intelligence coaching.</div>
</div>

<div class="stats">
<div class="stat"><div class="stat-val" id="sc">0</div><div class="stat-lbl">Sessions</div></div>
<div class="stat"><div class="stat-val" id="em">â€”</div><div class="stat-lbl">Last Emotion</div></div>
<div class="stat"><div class="stat-val">AI</div><div class="stat-lbl">Powered</div></div>
</div>

<div class="footer">Built with empathy & intelligence</div>
</div>
<script>
var ses=0;
navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:240}}).then(function(s){document.getElementById("vid").srcObject=s}).catch(function(){});
function pick(el,t){document.querySelectorAll(".mood").forEach(function(m){m.classList.remove("active")});el.classList.add("active");var ta=document.getElementById("inp");if(!ta.value)ta.value="I'm feeling "+t.split(" ")[1].toLowerCase()+" right now.";ta.focus()}
function clr(){document.getElementById("inp").value="";document.querySelectorAll(".mood").forEach(function(m){m.classList.remove("active")})}
async function go(){
var b=document.getElementById("btn"),o=document.getElementById("out"),d=document.getElementById("inp").value;
b.disabled=true;b.textContent="Analyzing...";
o.innerHTML='<div class="label">Analyzing</div><div class="typing"><span></span><span></span><span></span></div>';
try{var r=await fetch("/solve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:d})});var j=await r.json();ses++;document.getElementById("sc").textContent=ses;var emos={"HAPPY":"ðŸ˜Š","SAD":"ðŸ˜¢","ANGRY":"ðŸ˜¤","ANXIOUS":"ðŸ˜°","CONFUSED":"ðŸ˜•","BALANCED":"ðŸ§˜"};var em="ðŸ§˜";for(var k in emos){if(j.output.indexOf(k)!==-1){em=emos[k];break}}document.getElementById("em").textContent=em;o.innerHTML='<div class="label">Coach Response</div>'+j.output}catch(e){o.innerHTML='<div class="label">Error</div>Connection issue. Please try again.'}
b.disabled=false;b.textContent="âœ¦ Analyze \u0026 Coach"}
</script>
</body>
</html>
